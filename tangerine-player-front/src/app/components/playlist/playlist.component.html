<div class="playlist-container">
  <div class="playlist-header">
    <button class="home-button" (click)="goHome()">
      <mat-icon>home</mat-icon>
      Inicio
    </button>
    <div class="playlist-info">
      <img src="https://picsum.photos/seed/playlist/300/300" alt="Playlist cover">
      <div class="playlist-details">
        <h1>{{playlistTitle}}</h1>
        <p>{{songs.length}} canciones</p>
      </div>
    </div>
  </div>

  <div class="songs-list">
    <div class="song-item" *ngFor="let song of songs; let i = index" (click)="playSong(song)">
      <div class="song-number">{{i + 1}}</div>
      <div class="song-thumb">
        <img [src]="song.coverUrl" [alt]="song.title">
        <div class="play-overlay">
          <mat-icon>play_arrow</mat-icon>
        </div>
      </div>
      <div class="song-info">
        <div class="song-title" [class.playing]="currentSongId === song.id">{{song.title}}</div>
        <div class="song-artist">{{song.artist}}</div>
      </div>
      <div class="song-album">{{song.album}}</div>
      <div class="song-duration">{{song.duration}}</div>
      <div class="song-actions">
        <button class="action-button" (click)="removeSong($event, song.id)" title="Eliminar de la playlist">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="modal-overlay" *ngIf="showDeleteConfirmation">
    <div class="modal-content">
      <div class="modal-header">
        <h2>¿Eliminar playlist?</h2>
        <button class="close-button" (click)="closeConfirmation()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
      <div class="modal-body">
        <p>Esta es la última canción de la playlist. Si la eliminas, la playlist también se eliminará.</p>
        <p>¿Deseas continuar?</p>
      </div>
      <div class="modal-footer">
        <button class="cancel-button" (click)="closeConfirmation()">Cancelar</button>
        <button class="delete-button" (click)="confirmDelete()">Eliminar</button>
      </div>
    </div>
  </div>
</div>